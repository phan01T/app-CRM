<div class="calendar-wrapper">
  <!-- Sidebar -->
  <aside class="sidebar">
    <h3 class="sidebar-title">üë• User Manager</h3>

    <div class="user-list">
      <div
        class="user-card"
        *ngFor="let user of users()"
        [class.inactive]="!user.active"
        (click)="toggleUser(user)"
      >
        <img [src]="user.avatar" alt="avatar" class="avatar" />
        <div class="info">
          <h4>{{ user.name }}</h4>
          <p>{{ user.role }}</p>
        </div>
        <span class="status-dot" [style.background]="user.color"></span>
      </div>
    </div>
  </aside>

  <!-- Main Calendar Section -->
  <section class="calendar-section">
    <div class="calendar-container">
      <!-- Header -->
      <div class="calendar-nav">
        <div class="nav-left">
          <button (click)="prevMonth()">¬´ Th√°ng tr∆∞·ªõc</button>
          <button class="btn-today" (click)="today()">H√¥m nay</button>
          <button (click)="nextMonth()">Th√°ng sau ¬ª</button>
        </div>

        <h3>{{ currentDate() }}</h3>

        <input type="month" (change)="onMonthChange($event)" />
      </div>

      <!-- FullCalendar -->
      <full-calendar [options]="calendarOptions" #calendarRef></full-calendar>
    </div>

    <!-- Create Event Form -->
    <div class="create-event">
      <h3>üóìÔ∏è T·∫°o s·ª± ki·ªán</h3>
      <form (ngSubmit)="saveEvent()" #form="ngForm" class="event-form">
        <div class="row">
          <div class="field">
            <label>Ti√™u ƒë·ªÅ</label>
            <input
              type="text"
              [(ngModel)]="newEvent.title"
              name="title"
              required
              placeholder="Cu·ªôc g·ªçi kh√°ch h√†ng"
            />
          </div>
          <div class="field">
            <label>Ng√†y</label>
            <input
              type="date"
              [(ngModel)]="newEvent.date"
              name="date"
              required
            />
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label>Th·ªùi gian</label>
            <input
              type="time"
              [(ngModel)]="newEvent.time"
              name="time"
              placeholder="09:00"
            />
          </div>
          <div class="field">
            <label>Lo·∫°i</label>
            <select [(ngModel)]="newEvent.type" name="type">
              <option>Cu·ªôc g·ªçi</option>
              <option>Cu·ªôc h·∫πn</option>
              <option>Email</option>
            </select>
          </div>
        </div>

        <div class="row">
          <div class="field">
            <label>Kh√°ch h√†ng</label>
            <input
              type="text"
              [(ngModel)]="newEvent.customer"
              name="customer"
              placeholder="Saigon Foods"
            />
          </div>
          <div class="field">
            <label>Nh·∫Øc nh·ªü</label>
            <select [(ngModel)]="newEvent.reminder" name="reminder">
              <option>15 ph√∫t tr∆∞·ªõc</option>
              <option>30 ph√∫t tr∆∞·ªõc</option>
              <option>1 gi·ªù tr∆∞·ªõc</option>
            </select>
          </div>
        </div>

        <div class="actions-row">
          <button type="button" class="btn-cancel">H·ªßy</button>
          <button type="submit" class="btn-save">üíæ L∆∞u s·ª± ki·ªán</button>
        </div>
      </form>
    </div>
  </section>
</div>
